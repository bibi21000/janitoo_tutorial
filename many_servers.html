<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Many servers &mdash; janitoo_tutorial 0.0.7 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinxcontrib-images/LightBox2/lightbox2/css/lightbox.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootswatch-3.3.4/united/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.7',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/sphinxcontrib-images/LightBox2/lightbox2/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/sphinxcontrib-images/LightBox2/lightbox2/js/lightbox.min.js"></script>
    <script type="text/javascript" src="_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="janitoo_tutorial 0.0.7 documentation" href="index.html" />
    <link rel="next" title="Discovering network" href="discovering_network.html" />
    <link rel="prev" title="HelloWord V3" href="hello_world_v3.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          janitoo_tutorial</a>
        <span class="navbar-text navbar-version pull-left"><b>0.0.7</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="tools/index.html">Tools</a></li>
                <li><a href="api/index.html">Reference</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="preface.html"> What is Janitoo</a><ul>
<li class="toctree-l2"><a class="reference internal" href="preface.html#preface">Preface</a></li>
<li class="toctree-l2"><a class="reference internal" href="preface.html#about-this-tutorial">About this tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="preface.html#notes">Notes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="install.html"> Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install.html#goal">Goal</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#needed-tools">Needed tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#initial-clone">Initial clone</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#install-mosquitto">Install mosquitto</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#install-modules">Install modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#install-client-tools">Install Client tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#update-your-clone">Update your clone</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hello_world_v0.html"> Hello World : connect everything</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v0.html#goal">Goal</a></li>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v0.html#needed-parts">Needed parts</a></li>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v0.html#fritzing">Fritzing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hello_world_v1.html"> Hello World 1 : a simple server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v1.html#goal">Goal</a></li>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v1.html#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v1.html#test-it">Test it</a></li>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v1.html#launch-it">Launch it</a></li>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v1.html#query-it">Query it</a></li>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v1.html#performances">Performances</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hello_world_v2.html"> Hello World 2 : an advanced server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v2.html#goal">Goal</a></li>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v2.html#the-components">The components</a></li>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v2.html#the-bus">The bus</a></li>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v2.html#the-thread">The thread</a></li>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v2.html#entry-points">Entry-points</a></li>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v2.html#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v2.html#test-it">Test it</a></li>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v2.html#launch-it">Launch it</a></li>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v2.html#performances">Performances</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hello_world_v3.html"> Hello World 3 : a more advanced server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v3.html#goal">Goal</a></li>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v3.html#the-bus">The bus</a></li>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v3.html#the-finish-state-machine">The finish state machine</a></li>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v3.html#create-a-server">Create a server</a></li>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v3.html#spy-it">Spy it</a></li>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v3.html#start-it-at-boot">Start it at boot</a></li>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v3.html#performances">Performances</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href=""> Many servers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#goal">Goal</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mosquitto">Mosquitto</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-docker-appliance">The docker appliance</a></li>
<li class="toctree-l2"><a class="reference internal" href="#home-automation">Home automation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-network">The network</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="discovering_network.html"> Discovering the network</a><ul>
<li class="toctree-l2"><a class="reference internal" href="discovering_network.html#goal">Goal</a></li>
<li class="toctree-l2"><a class="reference internal" href="discovering_network.html#one-more-server">One more server</a></li>
<li class="toctree-l2"><a class="reference internal" href="discovering_network.html#broadcast-network">Broadcast network</a></li>
<li class="toctree-l2"><a class="reference internal" href="discovering_network.html#request-nodes">Request nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="discovering_network.html#values-querying">Values querying</a></li>
<li class="toctree-l2"><a class="reference internal" href="discovering_network.html#command-class-discovering">Command class discovering</a></li>
<li class="toctree-l2"><a class="reference internal" href="discovering_network.html#more-servers">More servers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hello_world_v4.html"> Hello World 4 : interacting with our server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v4.html#goal">Goal</a></li>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v4.html#state-machine">State machine</a></li>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v4.html#wake-up-baby">Wake up baby</a></li>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v4.html#critical-temperature">Critical temperature</a></li>
<li class="toctree-l2"><a class="reference internal" href="hello_world_v4.html#fsmbus">FsmBus</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tkinter.html"> Tk user interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tkinter.html#goal">Goal</a></li>
<li class="toctree-l2"><a class="reference internal" href="tkinter.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="tkinter.html#id1">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="tkinter.html#the-map">The map</a></li>
<li class="toctree-l2"><a class="reference internal" href="tkinter.html#the-contextual-menu">The contextual menu</a></li>
<li class="toctree-l2"><a class="reference internal" href="tkinter.html#future">Future</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="more.html"> Create and share</a><ul>
<li class="toctree-l2"><a class="reference internal" href="more.html#goal">Goal</a></li>
<li class="toctree-l2"><a class="reference internal" href="more.html#how">How</a></li>
<li class="toctree-l2"><a class="reference internal" href="more.html#bus-aggregation-vs-bus-extension">Bus aggregation vs bus extension</a></li>
<li class="toctree-l2"><a class="reference internal" href="more.html#remote-development">Remote development</a></li>
<li class="toctree-l2"><a class="reference internal" href="more.html#tests">Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="more.html#examples">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="more.html#i-want-more">I want more</a></li>
<li class="toctree-l2"><a class="reference internal" href="more.html#i-want-to-help">I want to help</a></li>
<li class="toctree-l2"><a class="reference internal" href="more.html#documentation">Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="using_doc.html"> Using documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="using_doc.html#the-header">The header</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="hello_world_v3.html" title="Previous Chapter: HelloWord V3"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; HelloWord V3</span>
    </a>
  </li>
  <li>
    <a href="discovering_network.html" title="Next Chapter: Discovering network"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Discovering n... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="many-servers">
<h1>Many servers<a class="headerlink" href="#many-servers" title="Permalink to this headline">¶</a></h1>
<div class="section" id="goal">
<h2>Goal<a class="headerlink" href="#goal" title="Permalink to this headline">¶</a></h2>
<p>In the previous parts, you&#8217;ve seen how to create server.
In this part, we will connect many machines using Janitoo.</p>
<p>Ideally you need another raspberry :D. But you can also use :</p>
<ul class="simple">
<li>a computer with Ubuntu or Debian</li>
<li>install another server on the same raspberry</li>
<li>or using a docker image</li>
</ul>
</div>
<div class="section" id="mosquitto">
<h2>Mosquitto<a class="headerlink" href="#mosquitto" title="Permalink to this headline">¶</a></h2>
<p>We need to check that mosquitto is accessible from the network. You can do it manually or install the janitoo package.
It will also install a more recent version of mosquitto (from the developpers site).</p>
<p>At first, remove the old package :</p>
<div class="code bash highlight-python"><div class="highlight"><pre>$ sudo apt-get purge -y mosquitto
</pre></div>
</div>
<p>And install the new one :</p>
<div class="code bash highlight-python"><div class="highlight"><pre>$ cd /opt/janitoo/src
$ sudo make clone module=janitoo_mosquitto
</pre></div>
</div>
<p>After a while you should see something like :</p>
<div class="code bash highlight-python"><div class="highlight"><pre>netcat -zv 127.0.0.1 1-9999 2&gt;&amp;1|grep succeeded
Connection to 127.0.0.1 21 port [tcp/ftp] succeeded!
Connection to 127.0.0.1 22 port [tcp/ssh] succeeded!
Connection to 127.0.0.1 139 port [tcp/netbios-ssn] succeeded!
Connection to 127.0.0.1 445 port [tcp/microsoft-ds] succeeded!

Dependencies for janitoo_mosquitto finished.
make[1]: Leaving directory &#39;/opt/janitoo/src/janitoo_mosquitto&#39;
</pre></div>
</div>
<p>Launch the tests :</p>
<div class="code bash highlight-python"><div class="highlight"><pre>$ cd janitoo_mosquitto
$ sudo make tests
</pre></div>
</div>
<p>They should be like :</p>
<div class="code bash highlight-python"><div class="highlight"><pre>netcat -zv 127.0.0.1 1-9999 2&gt;&amp;1|grep succeeded
Connection to 127.0.0.1 21 port [tcp/ftp] succeeded!
Connection to 127.0.0.1 22 port [tcp/ssh] succeeded!
Connection to 127.0.0.1 139 port [tcp/netbios-ssn] succeeded!
Connection to 127.0.0.1 445 port [tcp/microsoft-ds] succeeded!
Connection to 127.0.0.1 1883 port [tcp/*] succeeded!
#~ #No websocket for precise
#~ netcat -zv 127.0.0.1 1-9999 2&gt;&amp;1|grep succeeded|grep 9001
/usr/local/bin/nosetests --verbosity=2 tests
test_001_connect_to_server (tests.test_docker.TestMosquittoSerser) ... SKIP: Only on docker
test_001_connect_to_server (tests.test_server.TestMosquittoSerser) ... ok

----------------------------------------------------------------------
Ran 2 tests in 0.042s

OK (SKIP=1)

Tests for janitoo_mosquitto finished.
</pre></div>
</div>
<p>At last, we need to find the ip address on the network :</p>
<div class="code bash highlight-python"><div class="highlight"><pre>$ ip addr
</pre></div>
</div>
<div class="code bash highlight-python"><div class="highlight"><pre>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN qlen 1
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000
    link/ether b8:27:eb:a8:55:6d brd ff:ff:ff:ff:ff:ff
    inet 192.168.14.65/24 brd 192.168.14.255 scope global eth0
       valid_lft forever preferred_lft forever
</pre></div>
</div>
<p>The interafec should be called eth0 or wlan0 or womething like that.
Here, that is : 192.168.14.65.</p>
<p>You can now restart your server :</p>
<div class="code bash highlight-python"><div class="highlight"><pre>$ sudo service jnt_tutorial restart
</pre></div>
</div>
</div>
<div class="section" id="the-docker-appliance">
<h2>The docker appliance<a class="headerlink" href="#the-docker-appliance" title="Permalink to this headline">¶</a></h2>
<p>If you want to deploy janitoo on another computer ( small or not), use the same procedure we&#8217;ve used before.</p>
<p>Or you can use a docker appliance. Pull the janitoo_hostsensor image :</p>
<div class="code bash highlight-python"><div class="highlight"><pre>$ docker pull bibi21000/janitoo_hostsensor
</pre></div>
</div>
<p>And create a container :</p>
<div class="code bash highlight-python"><div class="highlight"><pre>$ docker create -p 8882:22 --name mycontainer bibi21000/janitoo_hostsensor
</pre></div>
</div>
<p>Start it :</p>
<div class="code bash highlight-python"><div class="highlight"><pre>$ docker start mycontainer
</pre></div>
</div>
<p>Check that is it running :</p>
<div class="code bash highlight-python"><div class="highlight"><pre>$ docker ps
</pre></div>
</div>
<p>Connect to the docker image and update the hostsensor configuration file :</p>
<div class="code bash highlight-python"><div class="highlight"><pre>$ ssh root@127.0.0.1 -p 8882
</pre></div>
</div>
<p>Default password is janitoo.</p>
<p>Open the configuration file. The docker image contains a nano or vim for editing files :</p>
<div class="code bash highlight-python"><div class="highlight"><pre>root@8eafc45f6d09:~# vim /opt/janitoo/etc/janitoo_hostsensor.conf
</pre></div>
</div>
<p>You must update the broker ip. It should match the ip address of your shared &#8220;mosquitto&#8221; :</p>
<div class="code bash highlight-python"><div class="highlight"><pre>broker_ip = 192.168.14.65
</pre></div>
</div>
<p>Save your updates and restart jnt_hostsensor :</p>
<div class="code bash highlight-python"><div class="highlight"><pre>root@8eafc45f6d09:~# killall jnt_hostsensor
</pre></div>
</div>
<p>Exit from ssh :</p>
<div class="code bash highlight-python"><div class="highlight"><pre>root@8eafc45f6d09:~# exit
</pre></div>
</div>
<p>For a complete tutorial about the janitoo_hostsensor docker appliance, look at <a class="reference external" href="https://bibi21000.github.io/janitoo_hostsensor/">https://bibi21000.github.io/janitoo_hostsensor/</a>.</p>
</div>
<div class="section" id="home-automation">
<h2>Home automation<a class="headerlink" href="#home-automation" title="Permalink to this headline">¶</a></h2>
<p>Janitoo can be used for developping an home automation system.
Look at <a class="reference external" href="https://bibi21000.github.io/janitoo_tellstick/">https://bibi21000.github.io/janitoo_tellstick/</a> for a complete server.</p>
</div>
<div class="section" id="the-network">
<h2>The network<a class="headerlink" href="#the-network" title="Permalink to this headline">¶</a></h2>
<p>Its time to query the network :</p>
<div class="code bash highlight-python"><div class="highlight"><pre>$ jnt_query network --host 192.168.14.65
</pre></div>
</div>
<p>You should receive the list of nodes availables on your server :</p>
<div class="code bash highlight-python"><div class="highlight"><pre>hadd       uuid                 name                      location                  product_type
hadd       uuid                 name                      location                  product_type
0121/0003  hostsensor__uptime   Uptime                    Docker                    Software component
0121/0001  hostsensor__load     Load                      Docker                    Software component
0121/0002  hostsensor__disks    Disks                     Dokcer                    Software component
0121/0000  hostsensor           Docker sensors            Docker                    Default product type
0225/0000  tutorial2            Hello world               Rapsberry                 Default product type
0225/0002  tutorial2__temperature Temperature               Onewire                   Temperature sensor
0225/0004  tutorial2__led       Led                       GPIO                      Software
0225/0003  tutorial2__cpu       CPU                       Hostsensor                Software component
0225/0001  tutorial2__ambiance  Ambiance 1                DHT                       Temperature/humidity sensor
</pre></div>
</div>
<p>We need to specify a host to query as we use a remote one. Query basics values using :</p>
<div class="code bash highlight-python"><div class="highlight"><pre>$ jnt_query node --hadd 0121/0000 --vuuid request_info_basics --host 192.168.14.65
</pre></div>
</div>
<div class="code bash highlight-python"><div class="highlight"><pre>hadd       node_uuid                 uuid                           idx  data                      units      type  genre cmdclass help
0121/0001  hostsensor__load          load                           1    0.55                      None       3     1     49       The load average
0121/0001  hostsensor__load          load                           0    0.19                      None       3     1     49       The load average
0121/0001  hostsensor__load          load                           2    0.82                      None       3     1     49       The load average
0121/0002  hostsensor__disks         total                          1    98294312960               Bytes      4     1     49       The total size of partitions
0121/0002  hostsensor__disks         total                          0    98294312960               Bytes      4     1     49       The total size of partitions
0121/0002  hostsensor__disks         total                          3    98294312960               Bytes      4     1     49       The total size of partitions
0121/0002  hostsensor__disks         total                          2    98294312960               Bytes      4     1     49       The total size of partitions
0121/0002  hostsensor__disks         total                          5    98294312960               Bytes      4     1     49       The total size of partitions
0121/0002  hostsensor__disks         total                          4    98294312960               Bytes      4     1     49       The total size of partitions
0121/0002  hostsensor__disks         used                           1    28937203712               Bytes      4     1     49       The used size of partitions
0121/0002  hostsensor__disks         used                           0    28937203712               Bytes      4     1     49       The used size of partitions
0121/0002  hostsensor__disks         used                           3    28937203712               Bytes      4     1     49       The used size of partitions
0121/0002  hostsensor__disks         used                           2    28937203712               Bytes      4     1     49       The used size of partitions
0121/0002  hostsensor__disks         used                           5    28937203712               Bytes      4     1     49       The used size of partitions
0121/0002  hostsensor__disks         used                           4    28937203712               Bytes      4     1     49       The used size of partitions
0121/0002  hostsensor__disks         percent_use                    1    29.4                      %          3     1     49       The percent_use of partitions
0121/0002  hostsensor__disks         percent_use                    0    29.4                      %          3     1     49       The percent_use of partitions
0121/0002  hostsensor__disks         percent_use                    3    29.4                      %          3     1     49       The percent_use of partitions
0121/0002  hostsensor__disks         percent_use                    2    29.4                      %          3     1     49       The percent_use of partitions
0121/0002  hostsensor__disks         percent_use                    5    29.4                      %          3     1     49       The percent_use of partitions
0121/0002  hostsensor__disks         percent_use                    4    29.4                      %          3     1     49       The percent_use of partitions
0121/0002  hostsensor__disks         free                           1    64340357120               Bytes      4     1     49       The free size of partitions
0121/0002  hostsensor__disks         free                           0    64340357120               Bytes      4     1     49       The free size of partitions
0121/0002  hostsensor__disks         free                           3    64340357120               Bytes      4     1     49       The free size of partitions
0121/0002  hostsensor__disks         free                           2    64340357120               Bytes      4     1     49       The free size of partitions
0121/0002  hostsensor__disks         free                           5    64340357120               Bytes      4     1     49       The free size of partitions
0121/0002  hostsensor__disks         free                           4    64340357120               Bytes      4     1     49       The free size of partitions
0121/0002  hostsensor__disks         partition                      1    /root/.ssh                None       8     1     49       The partition list
0121/0002  hostsensor__disks         partition                      0    /etc/ssh                  None       8     1     49       The partition list
0121/0002  hostsensor__disks         partition                      3    /etc/resolv.conf          None       8     1     49       The partition list
0121/0002  hostsensor__disks         partition                      2    /opt/janitoo/etc          None       8     1     49       The partition list
0121/0002  hostsensor__disks         partition                      5    /etc/hosts                None       8     1     49       The partition list
0121/0002  hostsensor__disks         partition                      4    /etc/hostname             None       8     1     49       The partition list
0121/0003  hostsensor__uptime        uptime                         0    21003.93                  None       3     1     49       Uptime in seconds
</pre></div>
</div>
<p>We need to specify a host to query as we use a remote one. Query users values using :</p>
<div class="code bash highlight-python"><div class="highlight"><pre>$ jnt_query node --hadd 0121/0000 --vuuid request_info_users --host 192.168.14.65
</pre></div>
</div>
<div class="code bash highlight-python"><div class="highlight"><pre>hadd       node_uuid                 uuid                           idx  data                      units      type  genre cmdclass help
0121/0004  hostsensor__lmsensor      voltage                        0    None                      V          3     2     49       The voltage from lm-sensors
0121/0004  hostsensor__lmsensor      temperature                    0    47.0                      °C         3     2     49       The temperatures from lm-sensors
</pre></div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014,2015,2016 Sébastien GALLET aka bibi2100 &lt;bibi21000@gmail.com&gt;.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.<br/>
    </p>
  </div>
</footer>
  </body>
</html>